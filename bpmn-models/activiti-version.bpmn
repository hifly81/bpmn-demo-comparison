<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:activiti="http://activiti.org/bpmn"
             targetNamespace="http://bpmn.io/schema/bpmn">
  <process id="ActivitiDemo" isExecutable="true">
    <startEvent id="StartEvent" name="Start"/>
    <userTask id="UploadDoc" name="Upload Document" activiti:assignee="userA"/>
    <subProcess id="ValidationSub" name="Validation">
      <startEvent id="SubStart"/>
      <userTask id="CheckContent" name="Check Content" activiti:assignee="validator"/>
      <endEvent id="SubEnd"/>
    </subProcess>
    <exclusiveGateway id="Decision" name="Approved?"/>
    <userTask id="MultiReview" name="Reviewer Approval">
      <multiInstanceLoopCharacteristics isSequential="false" activiti:collection="reviewers" activiti:elementVariable="reviewer"/>
    </userTask>
    <intermediateCatchEvent id="WaitMessage" name="Wait for External Message">
      <messageEventDefinition messageRef="ExternalMessage"/>
    </intermediateCatchEvent>
    <endEvent id="EndEvent" name="End"/>
  </process>
  <message id="ExternalMessage" name="DocumentReviewed"/>
</definitions>